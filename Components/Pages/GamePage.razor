@page "/game"

@using blazorTowerDefense.Components;
@using blazorTowerDefense.Components.Game;

@inject LobbyService Lobby;
@inject NavigationManager NavigationManager

<PageTitle>Blazor Tower Defense</PageTitle>

<GameComponent />

@code {
    protected override void OnInitialized()
    {
        if (Lobby.JoinedGame == null)
        {
            try
            {
                NavigationManager.NavigateTo("/");
            }
            catch (Exception ex)
            {
                // do nothing. Exception thrown for no reason
            }
        }
    }
}
